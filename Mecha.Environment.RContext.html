<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="https://github.com/JordanIschard/Mechanized-Wormholes"> Project </a>
      <a href="https://jordanischard.github.io/">Author</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Classes.Morphisms</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Mecha</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Mecha.Syntax.Typ.html#"><span class="id" title="library">Typ</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#"><span class="id" title="library">Resource</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#"><span class="id" title="library">SyntaxNotation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">DeBrLevel</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">LevelInterface</span> <span class="id" title="library">Level</span> <span class="id" title="library">MapLevelInterface</span> <span class="id" title="library">MapLevelLVLD</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h1 class="section">Context - Resource Context</h1>


<div class="paragraph"> </div>

  The type system, defined in <span class="inlinecode"><span class="id" title="var">Type_System.v</span></span>, requires two contexts: a variable context and a resource context. The former is defined in <span class="inlinecode"><span class="id" title="var">VContext.v</span></span> and the latter is defined here. It is a map which binds resource names with pair types. We use the module <span class="inlinecode"><span class="id" title="var">MapLvlD</span></span> defined by the library <span class="inlinecode"><span class="id" title="var">DeBrLevel</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="RContext" class="idref" href="#RContext"><span class="id" title="module">RContext</span></a> &lt;: <span class="id" title="module">IsBdlLvlET</span>.<br/>

<br/>
<span class="id" title="keyword">Include</span> <span class="id" title="module">MakeBdlLvlMapLVLD</span> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp"><span class="id" title="module">PairTyp</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Raw"><span class="id" title="module">Raw</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Ext"><span class="id" title="module">Ext</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ptyp_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h2 class="section">Properties</h2>

<div class="paragraph"> </div>

<a id="lab8"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.diff_Empty_l" class="idref" href="#RContext.diff_Empty_l"><span class="id" title="lemma">diff_Empty_l</span></a> (<a id="m:1" class="idref" href="#m:1"><span class="id" title="binder">m</span></a> <a id="m':2" class="idref" href="#m':2"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Environment.RContext.html#RContext.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:1"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Empty"><span class="id" title="definition">Empty</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:1"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':2"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HEmp</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">HEmp</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.diff_Empty_r" class="idref" href="#RContext.diff_Empty_r"><span class="id" title="lemma">diff_Empty_r</span></a> (<a id="m:3" class="idref" href="#m:3"><span class="id" title="binder">m</span></a> <a id="m':4" class="idref" href="#m':4"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Environment.RContext.html#RContext.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':4"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:3"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':4"><span class="id" title="variable">m'</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#m:3"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HEmp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Equal_mapsto_iff"><span class="id" title="lemma">Equal_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">v'</span> <span class="id" title="var">HM'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">HEmp</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span> <span class="id" title="var">HM'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.diff_add_add" class="idref" href="#RContext.diff_add_add"><span class="id" title="lemma">diff_add_add</span></a> (<a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:6" class="idref" href="#v:6"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">π</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">Τ</span></a>) (<a id="m:7" class="idref" href="#m:7"><span class="id" title="binder">m</span></a> <a id="m':8" class="idref" href="#m':8"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:7"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.RContext.html#v:6"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:7"><span class="id" title="variable">m</span></a>) (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.RContext.html#v:6"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':8"><span class="id" title="variable">m'</span></a>)) (<a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:7"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':8"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Equal_mapsto_iff"><span class="id" title="lemma">Equal_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HM</span> <span class="id" title="var">HnIn'</span>]; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Heq</span> <span class="id" title="var">Heq'</span>] | [<span class="id" title="var">Hneq</span> <span class="id" title="var">HM</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HM</span> <span class="id" title="var">HnIn'</span>]; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#R.eq_dec"><span class="id" title="axiom">R.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_mapsto_new"><span class="id" title="lemma">add_mapsto_new</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#R.eq_dec"><span class="id" title="axiom">R.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [|]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.diff_Submap_in" class="idref" href="#RContext.diff_Submap_in"><span class="id" title="lemma">diff_Submap_in</span></a> (<a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a> <a id="m':11" class="idref" href="#m':11"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap"><span class="id" title="axiom">Submap</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:10"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':11"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':11"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:9"><span class="id" title="variable">x</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':11"><span class="id" title="variable">m'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:10"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:10"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hsub</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.In_dec"><span class="id" title="lemma">In_dec</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_in_iff"><span class="id" title="lemma">diff_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_in_iff"><span class="id" title="lemma">diff_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap_in"><span class="id" title="axiom">Submap_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Environment.Stock.html#Stock.new_key"><span class="id" title="definition">new_key</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.new_key_diff" class="idref" href="#RContext.new_key_diff"><span class="id" title="lemma">new_key_diff</span></a> (<a id="m:12" class="idref" href="#m:12"><span class="id" title="binder">m</span></a> <a id="m':13" class="idref" href="#m':13"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap"><span class="id" title="axiom">Submap</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:12"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':13"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':13"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':13"><span class="id" title="variable">m'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:12"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:12"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.map_induction"><span class="id" title="lemma">map_induction</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_Empty_r"><span class="id" title="lemma">diff_Empty_r</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap_add_2"><span class="id" title="axiom">Submap_add_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsub'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap_Add_find"><span class="id" title="axiom">Submap_Add_find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HIn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.diff_add_add"><span class="id" title="lemma">diff_add_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHm1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap"><span class="id" title="axiom">Submap</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">HIn1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#R.eq_dec"><span class="id" title="axiom">R.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap_in"><span class="id" title="axiom">Submap_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HIn1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">Hfi1</span> <span class="id" title="var">Hfi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi1</span>,<span class="id" title="var">Hfi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.remove_3bis"><span class="id" title="lemma">remove_3bis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.find_2"><span class="id" title="lemma">find_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi1</span>,<span class="id" title="var">Hfi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsub'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H1</span> <span class="id" title="var">k</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hfi1</span> <span class="id" title="var">Hfi'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Add"><span class="id" title="definition">Add</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.new_key_in_remove_1" class="idref" href="#RContext.new_key_in_remove_1"><span class="id" title="lemma">new_key_in_remove_1</span></a> (<a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#lvl"><span class="id" title="definition">lvl</span></a>) (<a id="t:15" class="idref" href="#t:15"><span class="id" title="binder">t</span></a>: <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.RContext.html#t:15"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#t:15"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:14"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Mecha.Environment.RContext.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.RContext.html#t:15"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_in"><span class="id" title="lemma">new_key_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HIn'</span>: <a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HnIn</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.remove_add_1"><span class="id" title="lemma">remove_add_1</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h3 class="section">specific Wormholes properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.Submap_wh" class="idref" href="#RContext.Submap_wh"><span class="id" title="lemma">Submap_wh</span></a> (<a id="m:16" class="idref" href="#m:16"><span class="id" title="binder">m</span></a> : <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) (<a id="v:17" class="idref" href="#v:17"><span class="id" title="binder">v</span></a> <a id="v':18" class="idref" href="#v':18"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">π</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">Τ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap"><span class="id" title="axiom">Submap</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:16"><span class="id" title="variable">m</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:16"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Mecha.Environment.RContext.html#v:17"><span class="id" title="variable">v</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:16"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#v':18"><span class="id" title="variable">v'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:16"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap_add_1"><span class="id" title="axiom">Submap_add_1</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.Submap_wh_1" class="idref" href="#RContext.Submap_wh_1"><span class="id" title="lemma">Submap_wh_1</span></a> (<a id="m:19" class="idref" href="#m:19"><span class="id" title="binder">m</span></a> <a id="m':20" class="idref" href="#m':20"><span class="id" title="binder">m'</span></a> : <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) (<a id="v:21" class="idref" href="#v:21"><span class="id" title="binder">v</span></a> <a id="v':22" class="idref" href="#v':22"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">π</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">Τ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap"><span class="id" title="axiom">Submap</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:19"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Mecha.Environment.RContext.html#v:21"><span class="id" title="variable">v</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:19"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#v':22"><span class="id" title="variable">v'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:19"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Mecha.Environment.RContext.html#m':20"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap"><span class="id" title="axiom">Submap</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:19"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m':20"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HSub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap_Add"><span class="id" title="axiom">Submap_Add</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">v'</span> <span class="id" title="var">m</span>)) (<span class="id" title="var">x</span> := (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">m</span>))) (<span class="id" title="var">v</span> := <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HSub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Submap_Add"><span class="id" title="axiom">Submap_Add</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">m</span>) (<span class="id" title="var">x</span> := (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">m</span>)) (<span class="id" title="var">v</span> := <span class="id" title="var">v'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HSub</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Add"><span class="id" title="definition">Add</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Add"><span class="id" title="definition">Add</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.new_key_wh" class="idref" href="#RContext.new_key_wh"><span class="id" title="lemma">new_key_wh</span></a> (<a id="m:23" class="idref" href="#m:23"><span class="id" title="binder">m</span></a> : <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) (<a id="v:24" class="idref" href="#v:24"><span class="id" title="binder">v</span></a> <a id="v':25" class="idref" href="#v':25"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">π</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">Τ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:23"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Mecha.Environment.RContext.html#v:24"><span class="id" title="variable">v</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:23"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#v':25"><span class="id" title="variable">v'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:23"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:23"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.Wf_wh" class="idref" href="#RContext.Wf_wh"><span class="id" title="lemma">Wf_wh</span></a> (<a id="m:26" class="idref" href="#m:26"><span class="id" title="binder">m</span></a> : <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) (<a id="v:27" class="idref" href="#v:27"><span class="id" title="binder">v</span></a> <a id="v':28" class="idref" href="#v':28"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">π</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">Τ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.RContext.html#v:27"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.RContext.html#v':28"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a>))) (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Mecha.Environment.RContext.html#v:27"><span class="id" title="variable">v</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#v':28"><span class="id" title="variable">v'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:26"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvm</span> <span class="id" title="var">Hvv</span> <span class="id" title="var">Hvv'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf_add_notin"><span class="id" title="lemma">Wf_add_notin</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">HIn</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#R.Wf"><span class="id" title="definition">R.Wf</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.Wf_weakening"><span class="id" title="lemma">PairTyp.Wf_weakening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf_add_notin"><span class="id" title="lemma">Wf_add_notin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#R.Wf"><span class="id" title="definition">R.Wf</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.Wf_weakening"><span class="id" title="lemma">PairTyp.Wf_weakening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf_weakening"><span class="id" title="lemma">Wf_weakening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="RContext.Wf_wh_full" class="idref" href="#RContext.Wf_wh_full"><span class="id" title="lemma">Wf_wh_full</span></a> (<a id="m:29" class="idref" href="#m:29"><span class="id" title="binder">m</span></a> : <a class="idref" href="Mecha.Environment.RContext.html#RContext.t"><span class="id" title="definition">t</span></a>) (<a id="v:30" class="idref" href="#v:30"><span class="id" title="binder">v</span></a> <a id="v':31" class="idref" href="#v':31"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">π</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#e3b327cb9e660376ebd0df944fb367f2"><span class="id" title="definition">Τ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.RContext.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#9c9cc1e88eae2f80aebb35f616abd833"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.RContext.html#v':31"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Mecha.Environment.RContext.html#v:30"><span class="id" title="variable">v</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#v':31"><span class="id" title="variable">v'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Mecha.Environment.RContext.html#v:30"><span class="id" title="variable">v</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#v':31"><span class="id" title="variable">v'</span></a> <a class="idref" href="Mecha.Environment.RContext.html#m:29"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvm</span> <span class="id" title="var">Hvv</span> <span class="id" title="var">Hvv'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.new_key_wh"><span class="id" title="lemma">new_key_wh</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Wf_wh"><span class="id" title="lemma">Wf_wh</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h3 class="section">Morphisms</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="RContext.rcontext_in_iff" class="idref" href="#RContext.rcontext_in_iff"><span class="id" title="instance">rcontext_in_iff</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#RContext.In"><span class="id" title="definition">In</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Heqx</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="var">Heqc</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqc</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="RContext.rcontext_find_eq" class="idref" href="#RContext.rcontext_find_eq"><span class="id" title="instance">rcontext_find_eq</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#RContext.find"><span class="id" title="definition">find</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Heqx</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="var">Heqc</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqc</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="RContext.rcontext_Empty_iff" class="idref" href="#RContext.rcontext_Empty_iff"><span class="id" title="instance">rcontext_Empty_iff</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="Mecha.Environment.RContext.html#RContext.Empty"><span class="id" title="definition">Empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="RContext.rcontext_Add_iff" class="idref" href="#RContext.rcontext_Add_iff"><span class="id" title="instance">rcontext_Add_iff</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#R.eq"><span class="id" title="definition">R.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.eq"><span class="id" title="definition">PairTyp.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="Mecha.Environment.RContext.html#RContext.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.t"><span class="id" title="definition">PairTyp.t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">HeqV</span> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span> <span class="id" title="var">HeqT</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="var">Heq</span> <span class="id" title="var">c1</span> <span class="id" title="var">c1'</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.eq_leibniz"><span class="id" title="lemma">PairTyp.eq_leibniz</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqT</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext.Add"><span class="id" title="definition">Add</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqV</span>, <span class="id" title="var">Heq</span>, <span class="id" title="var">Heq1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="RContext.rcontext_add_eq" class="idref" href="#RContext.rcontext_add_eq"><span class="id" title="instance">rcontext_add_eq</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#R.eq"><span class="id" title="definition">R.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.eq"><span class="id" title="definition">PairTyp.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.RContext.html#RContext.eq"><span class="id" title="definition">eq</span></a>) (@<a class="idref" href="Mecha.Environment.RContext.html#RContext.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.t"><span class="id" title="definition">PairTyp.t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">HeqV</span> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span> <span class="id" title="var">HeqT</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.eq_leibniz"><span class="id" title="lemma">PairTyp.eq_leibniz</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqT</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqV</span>, <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Mecha.Environment.RContext.html#RContext"><span class="id" title="module">RContext</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
