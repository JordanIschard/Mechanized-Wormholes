<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="https://github.com/JordanIschard/Mechanized-Wormholes"> Project </a>
      <a href="https://jordanischard.github.io/">Author</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Arith.PeanoNat.html#"><span class="id" title="library">Arith.PeanoNat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Logic.Classical_Prop.html#"><span class="id" title="library">Classical_Prop</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.SetoidList.html#"><span class="id" title="library">SetoidList</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Mecha</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Mecha.Syntax.Resource.html#"><span class="id" title="library">Resource</span></a> <a class="idref" href="Mecha.Syntax.Cell.html#"><span class="id" title="library">Cell</span></a> <a class="idref" href="Mecha.Environment.RContext.html#"><span class="id" title="library">RContext</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#"><span class="id" title="library">SyntaxNotation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">DeBrLevel</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">LevelInterface</span> <span class="id" title="library">MapLevelInterface</span> <span class="id" title="library">MapLevelLVLD</span> <span class="id" title="library">MapExtInterface</span> <span class="id" title="library">MapExt</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h1 class="section">Environment - Resource Environment</h1>


<div class="paragraph"> </div>

  The functional transition, defined in <span class="inlinecode"><span class="id" title="var">Functional_Transition.v</span></span>, requires a local memory represented by an environment. We defined here the resource environment which maps resource names with memory cells, defined in <span class="inlinecode"><span class="id" title="var">Cell.v</span></span>. This environment is an interface between the program and the outside.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="REnvironment" class="idref" href="#REnvironment"><span class="id" title="module">REnvironment</span></a> &lt;: <span class="id" title="module">IsLvlET</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h2 class="section">Definitions</h2>

</div>
<div class="code">
<span class="id" title="keyword">Include</span> <span class="id" title="module">MakeLvlMapLVLD</span> <a class="idref" href="Mecha.Syntax.Cell.html#Cell"><span class="id" title="module">Cell</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Raw"><span class="id" title="module">Raw</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Ext"><span class="id" title="module">Ext</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cell_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">term_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="REnvironment.RC" class="idref" href="#REnvironment.RC"><span class="id" title="module">RC</span></a> := <a class="idref" href="Mecha.Environment.RContext.html#RContext"><span class="id" title="module">RContext</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h3 class="section">To be used or not to be</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span>   <a id="REnvironment.used" class="idref" href="#REnvironment.used"><span class="id" title="definition">used</span></a> <a id="r:1" class="idref" href="#r:1"><span class="id" title="binder">r</span></a> (<a id="V:2" class="idref" href="#V:2"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_used"><span class="id" title="definition">Cell.opt_used</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:1"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:2"><span class="id" title="variable">V</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="REnvironment.unused" class="idref" href="#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a id="r:3" class="idref" href="#r:3"><span class="id" title="binder">r</span></a> (<a id="V:4" class="idref" href="#V:4"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_unused"><span class="id" title="definition">Cell.opt_unused</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:3"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:4"><span class="id" title="variable">V</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h3 class="section">Domain equality with <span class="inlinecode"><a class="idref" href="Mecha.Environment.RContext.html#RContext"><span class="id" title="module">RContext</span></a></span></h3>


<div class="paragraph"> </div>

  We define the domain equality as follows: for all key <span class="inlinecode"><span class="id" title="var">k</span></span>, <span class="inlinecode"><span class="id" title="var">k</span></span> is in the resource context if and only if <span class="inlinecode"><span class="id" title="var">k</span></span> is in the resource environment. This property is already define in <span class="inlinecode"><span class="id" title="library">MMaps</span></span>, however we need it for maps with different data and the one in <span class="inlinecode"><span class="id" title="library">MMaps</span></span> library does not match.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="REnvironment.eqDom" class="idref" href="#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> (<a id="Rc:5" class="idref" href="#Rc:5"><span class="id" title="binder">Rc</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:6" class="idref" href="#V:6"><span class="id" title="binder">V</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="r:7" class="idref" href="#r:7"><span class="id" title="binder">r</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>), <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">RC.Raw.In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:7"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:5"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:7"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:6"><span class="id" title="variable">V</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h2 class="section">Properties</h2>

<div class="paragraph"> </div>

<a id="lab17"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="REnvironment.eqDom_iff" class="idref" href="#REnvironment.eqDom_iff"><span class="id" title="instance">eqDom_iff</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">RC.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Re</span> <span class="id" title="var">Re1</span> <span class="id" title="var">HeqRe</span> <span class="id" title="var">V</span> <span class="id" title="var">V1</span> <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.rcontext_in_iff"><span class="id" title="instance">RC.rcontext_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqRe</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqRe</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.rcontext_in_iff"><span class="id" title="instance">RC.rcontext_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqRe</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqRe</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.eqDom_In" class="idref" href="#REnvironment.eqDom_In"><span class="id" title="lemma">eqDom_In</span></a> (<a id="r:8" class="idref" href="#r:8"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="Rc:9" class="idref" href="#Rc:9"><span class="id" title="binder">Rc</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:10" class="idref" href="#V:10"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:9"><span class="id" title="variable">Rc</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:10"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">RC.Raw.In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:8"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:9"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:8"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:10"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HeqDom</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.eqDom_MapsTo" class="idref" href="#REnvironment.eqDom_MapsTo"><span class="id" title="lemma">eqDom_MapsTo</span></a> (<a id="r:11" class="idref" href="#r:11"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> <a id="B:13" class="idref" href="#B:13"><span class="id" title="binder">B</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#6938dafabe2621c6afbaa30ee3a814a6"><span class="id" title="definition">Τ</span></a>) (<a id="Rc:14" class="idref" href="#Rc:14"><span class="id" title="binder">Rc</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:15" class="idref" href="#V:15"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:14"><span class="id" title="variable">Rc</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:15"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.MapsTo"><span class="id" title="definition">RC.Raw.MapsTo</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:11"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#A:12"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#B:13"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:14"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="v:16" class="idref" href="#v:16"><span class="id" title="binder">v</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:11"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:16"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:15"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HeqDom</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HIn</span> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>).<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_In"><span class="id" title="lemma">eqDom_In</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Rc</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">HM'</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.eqDom_Empty" class="idref" href="#REnvironment.eqDom_Empty"><span class="id" title="lemma">eqDom_Empty</span></a> (<a id="Rc:17" class="idref" href="#Rc:17"><span class="id" title="binder">Rc</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:18" class="idref" href="#V:18"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>):<br/>
&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:17"><span class="id" title="variable">Rc</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:18"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Empty"><span class="id" title="definition">RC.Empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:17"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:18"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HeqDom</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HEmp</span> <span class="id" title="var">r</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">HnIn</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">RC.Raw.In</span></a> <span class="id" title="var">r</span> <span class="id" title="var">Rc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">v'</span> <span class="id" title="var">HM'</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">HEmp</span> <span class="id" title="var">r</span> <span class="id" title="var">v'</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_In"><span class="id" title="lemma">eqDom_In</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">V</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">HnIn</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">v'</span> <span class="id" title="var">HM'</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">HEmp</span> <span class="id" title="var">r</span> <span class="id" title="var">v'</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_In"><span class="id" title="lemma">eqDom_In</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Rc</span> <span class="id" title="var">V</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.eqDom_is_empty" class="idref" href="#REnvironment.eqDom_is_empty"><span class="id" title="lemma">eqDom_is_empty</span></a> (<a id="Rc:19" class="idref" href="#Rc:19"><span class="id" title="binder">Rc</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:20" class="idref" href="#V:20"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:19"><span class="id" title="variable">Rc</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:20"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty"><span class="id" title="definition">RC.Raw.is_empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:19"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty"><span class="id" title="definition">is_empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:20"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HeqDom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty"><span class="id" title="definition">RC.Raw.is_empty</span></a> <span class="id" title="var">Rc</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HisEmp</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty"><span class="id" title="definition">is_empty</span></a> <span class="id" title="var">V</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HisEmp'</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty_2"><span class="id" title="lemma">RC.is_empty_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HisEmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_Empty"><span class="id" title="lemma">eqDom_Empty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HisEmp</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty_1"><span class="id" title="lemma">is_empty_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HisEmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HisEmp'</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HisEmp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty_2"><span class="id" title="lemma">is_empty_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HisEmp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_Empty"><span class="id" title="lemma">eqDom_Empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HisEmp'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty_1"><span class="id" title="lemma">RC.is_empty_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HisEmp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HisEmp</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HisEmp'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.eqDom_find" class="idref" href="#REnvironment.eqDom_find"><span class="id" title="lemma">eqDom_find</span></a> (<a id="Rc:21" class="idref" href="#Rc:21"><span class="id" title="binder">Rc</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:22" class="idref" href="#V:22"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:21"><span class="id" title="variable">Rc</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:22"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="r:23" class="idref" href="#r:23"><span class="id" title="binder">r</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="A:24" class="idref" href="#A:24"><span class="id" title="binder">A</span></a> <a id="B:25" class="idref" href="#B:25"><span class="id" title="binder">B</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#6938dafabe2621c6afbaa30ee3a814a6"><span class="id" title="definition">Τ</span></a>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">RC.Raw.find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:23"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:21"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#A:24"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#B:25"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v:26" class="idref" href="#v:26"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:23"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:22"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:26"><span class="id" title="variable">v</span></a>)%<span class="id" title="keyword">type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HeqDom</span> <span class="id" title="var">r</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">HfiRc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_2"><span class="id" title="lemma">RC.find_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HfiRc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_MapsTo"><span class="id" title="lemma">eqDom_MapsTo</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">V</span> := <span class="id" title="var">V</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HfiRc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">HM</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_1"><span class="id" title="lemma">find_1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.eqDom_max" class="idref" href="#REnvironment.eqDom_max"><span class="id" title="lemma">eqDom_max</span></a> (<a id="Rc:27" class="idref" href="#Rc:27"><span class="id" title="binder">Rc</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:28" class="idref" href="#V:28"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:27"><span class="id" title="variable">Rc</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:28"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.max_key"><span class="id" title="definition">RC.Ext.max_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:27"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.max_key"><span class="id" title="definition">max_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:28"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">V</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Rc</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.map_induction"><span class="id" title="lemma">RC.map_induction</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">V</span> <span class="id" title="var">HeqDom</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.max_key_Empty"><span class="id" title="lemma">RC.Ext.max_key_Empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_Empty"><span class="id" title="lemma">eqDom_Empty</span></a> <span class="id" title="var">Rc</span> <span class="id" title="var">V</span> <span class="id" title="var">HeqDom</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.max_key_Empty"><span class="id" title="lemma">max_key_Empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">HIn</span>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">V</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqDom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">RC.Add</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.rcontext_in_iff"><span class="id" title="instance">RC.rcontext_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">RC.add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HIn'</span>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">V</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">RC.Add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.max_key_eq"><span class="id" title="instance">RC.Ext.max_key_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H0'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0'</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0'</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.max_key_add_max"><span class="id" title="lemma">RC.Ext.max_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.max_key_add_max"><span class="id" title="lemma">max_key_add_max</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HeqDom'</span>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <span class="id" title="var">Rc1</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">V</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">r</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HeqDom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.rcontext_in_iff"><span class="id" title="instance">RC.rcontext_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">RC.add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> <span class="id" title="var">HIn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HeqDom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.rcontext_in_iff"><span class="id" title="instance">RC.rcontext_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">RC.add_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">HIn</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHRc1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.eqDom_new" class="idref" href="#REnvironment.eqDom_new"><span class="id" title="lemma">eqDom_new</span></a> (<a id="Rc:29" class="idref" href="#Rc:29"><span class="id" title="binder">Rc</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">RC.t</span></a>) (<a id="V:30" class="idref" href="#V:30"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom"><span class="id" title="definition">eqDom</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:29"><span class="id" title="variable">Rc</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:30"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">RC.Ext.new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#Rc:29"><span class="id" title="variable">Rc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:30"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">RC.Ext.new_key</span></a>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HeqDom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_is_empty"><span class="id" title="lemma">eqDom_is_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqDom</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HisEmp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.is_empty"><span class="id" title="definition">RC.Raw.is_empty</span></a> <span class="id" title="var">Rc</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HEmp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HisEmp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HisEmp</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eqDom_max"><span class="id" title="lemma">eqDom_max</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Environment.RContext.html#RContext.diff"><span class="id" title="definition">diff</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.diff_Empty_l" class="idref" href="#REnvironment.diff_Empty_l"><span class="id" title="lemma">diff_Empty_l</span></a> (<a id="m:31" class="idref" href="#m:31"><span class="id" title="binder">m</span></a> <a id="m':32" class="idref" href="#m':32"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:31"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Empty"><span class="id" title="definition">Empty</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:31"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':32"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HEmp</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">HEmp</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.diff_Empty_r" class="idref" href="#REnvironment.diff_Empty_r"><span class="id" title="lemma">diff_Empty_r</span></a> (<a id="m:33" class="idref" href="#m:33"><span class="id" title="binder">m</span></a> <a id="m':34" class="idref" href="#m':34"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':34"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:33"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':34"><span class="id" title="variable">m'</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#m:33"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HEmp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Equal_mapsto_iff"><span class="id" title="lemma">Equal_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">v'</span> <span class="id" title="var">HM'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">HEmp</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span> <span class="id" title="var">HM'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.diff_add_add" class="idref" href="#REnvironment.diff_add_add"><span class="id" title="lemma">diff_add_add</span></a> (<a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) <a id="v:36" class="idref" href="#v:36"><span class="id" title="binder">v</span></a> <a id="v':37" class="idref" href="#v':37"><span class="id" title="binder">v'</span></a> (<a id="m:38" class="idref" href="#m:38"><span class="id" title="binder">m</span></a> <a id="m':39" class="idref" href="#m':39"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:38"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff"><span class="id" title="definition">diff</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:36"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:38"><span class="id" title="variable">m</span></a>) (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':39"><span class="id" title="variable">m'</span></a>)) (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:38"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':39"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Equal_mapsto_iff"><span class="id" title="lemma">Equal_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v1</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HM</span> <span class="id" title="var">HnIn'</span>]; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Heq</span> <span class="id" title="var">Heq'</span>] | [<span class="id" title="var">Hneq</span> <span class="id" title="var">HM</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HM</span> <span class="id" title="var">HnIn'</span>]; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_mapsto_new"><span class="id" title="lemma">add_mapsto_new</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [|]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.diff_incl_in" class="idref" href="#REnvironment.diff_incl_in"><span class="id" title="lemma">diff_incl_in</span></a> (<a id="x:40" class="idref" href="#x:40"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="m:41" class="idref" href="#m:41"><span class="id" title="binder">m</span></a> <a id="m':42" class="idref" href="#m':42"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="r:43" class="idref" href="#r:43"><span class="id" title="binder">r</span></a>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:43"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:41"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:43"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':42"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:40"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':42"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:40"><span class="id" title="variable">x</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':42"><span class="id" title="variable">m'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:41"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:40"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:41"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hsub</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In_dec"><span class="id" title="lemma">In_dec</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_in_iff"><span class="id" title="lemma">diff_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_in_iff"><span class="id" title="lemma">diff_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.diff_in_false" class="idref" href="#REnvironment.diff_in_false"><span class="id" title="lemma">diff_in_false</span></a> (<a id="m:44" class="idref" href="#m:44"><span class="id" title="binder">m</span></a> <a id="m':45" class="idref" href="#m':45"><span class="id" title="binder">m'</span></a> : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:46" class="idref" href="#x:46"><span class="id" title="binder">x</span></a>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:46"><span class="id" title="variable">x</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:44"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':45"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:47" class="idref" href="#x:47"><span class="id" title="binder">x</span></a>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:47"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:44"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:47"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':45"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In_dec"><span class="id" title="lemma">In_dec</span></a> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">H</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_in_iff"><span class="id" title="lemma">diff_in_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab19"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Environment.Stock.html#Stock.new_key"><span class="id" title="definition">new_key</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.new_key_incl" class="idref" href="#REnvironment.new_key_incl"><span class="id" title="lemma">new_key_incl</span></a> (<a id="m:48" class="idref" href="#m:48"><span class="id" title="binder">m</span></a> <a id="m':49" class="idref" href="#m':49"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="r:50" class="idref" href="#r:50"><span class="id" title="binder">r</span></a>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:50"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:48"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:50"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':49"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:48"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a>  <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':49"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.map_induction"><span class="id" title="lemma">map_induction</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hsub</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHm1</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.new_key_diff" class="idref" href="#REnvironment.new_key_diff"><span class="id" title="lemma">new_key_diff</span></a> (<a id="m:51" class="idref" href="#m:51"><span class="id" title="binder">m</span></a> <a id="m':52" class="idref" href="#m':52"><span class="id" title="binder">m'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="r:53" class="idref" href="#r:53"><span class="id" title="binder">r</span></a>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:53"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:51"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:53"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':52"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)-&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':52"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m':52"><span class="id" title="variable">m'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:51"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:51"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.map_induction"><span class="id" title="lemma">map_induction</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_Empty_r"><span class="id" title="lemma">diff_Empty_r</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hsub</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.diff_add_add"><span class="id" title="lemma">diff_add_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHm1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">HIn1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab20"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Syntax.Cell.html#Cell.unused"><span class="id" title="definition">unused</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="REnvironment.unused_iff" class="idref" href="#REnvironment.unused_iff"><span class="id" title="instance">unused_iff</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r'</span> <span class="id" title="var">r</span> <span class="id" title="var">Heqr</span> <span class="id" title="var">V</span> <span class="id" title="var">V'</span> <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>,<a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_unused"><span class="id" title="definition">Cell.opt_unused</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqV</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_Empty" class="idref" href="#REnvironment.unused_Empty"><span class="id" title="lemma">unused_Empty</span></a> (<a id="r:54" class="idref" href="#r:54"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:55" class="idref" href="#V:55"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:55"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:54"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:55"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_unused"><span class="id" title="definition">Cell.opt_unused</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hemp</span> <span class="id" title="var">Husd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HnIn</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">v</span> <span class="id" title="var">HM</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hemp</span> <span class="id" title="var">r</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HnIn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_add" class="idref" href="#REnvironment.unused_add"><span class="id" title="lemma">unused_add</span></a> (<a id="r:56" class="idref" href="#r:56"><span class="id" title="binder">r</span></a> <a id="r':57" class="idref" href="#r':57"><span class="id" title="binder">r'</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:58" class="idref" href="#v:58"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:59" class="idref" href="#V:59"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:56"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':57"><span class="id" title="variable">r'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:58"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:59"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Syntax.Cell.html#Cell.unused"><span class="id" title="definition">Cell.unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:58"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:56"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:59"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_unused"><span class="id" title="definition">Cell.opt_unused</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Husd</span>; <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">r</span> <span class="id" title="var">r'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_add_1" class="idref" href="#REnvironment.unused_add_1"><span class="id" title="lemma">unused_add_1</span></a> (<a id="r:60" class="idref" href="#r:60"><span class="id" title="binder">r</span></a> <a id="r':61" class="idref" href="#r':61"><span class="id" title="binder">r'</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:62" class="idref" href="#v:62"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:63" class="idref" href="#V:63"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Syntax.Cell.html#Cell.unused"><span class="id" title="definition">Cell.unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:62"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:60"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:63"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:60"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':61"><span class="id" title="variable">r'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:62"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:63"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_unused"><span class="id" title="definition">Cell.opt_unused</span></a>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">HCusd</span> <span class="id" title="var">Husd</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">r</span> <span class="id" title="var">r'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_add_eq" class="idref" href="#REnvironment.unused_add_eq"><span class="id" title="lemma">unused_add_eq</span></a> (<a id="r:64" class="idref" href="#r:64"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:65" class="idref" href="#v:65"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:66" class="idref" href="#V:66"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Syntax.Cell.html#Cell.unused"><span class="id" title="definition">Cell.unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:65"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:64"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:64"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:65"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:66"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_unused"><span class="id" title="definition">Cell.opt_unused</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Husd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_add_neq" class="idref" href="#REnvironment.unused_add_neq"><span class="id" title="lemma">unused_add_neq</span></a> (<a id="r:67" class="idref" href="#r:67"><span class="id" title="binder">r</span></a> <a id="r':68" class="idref" href="#r':68"><span class="id" title="binder">r'</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:69" class="idref" href="#v:69"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:70" class="idref" href="#V:70"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#r:67"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':68"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:67"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:70"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:67"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':68"><span class="id" title="variable">r'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:69"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:70"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_unused"><span class="id" title="definition">Cell.opt_unused</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Husd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_find_e" class="idref" href="#REnvironment.unused_find_e"><span class="id" title="lemma">unused_find_e</span></a> (<a id="r:71" class="idref" href="#r:71"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:72" class="idref" href="#V:72"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:71"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:72"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="v:73" class="idref" href="#v:73"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="definition">Λ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:71"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:72"><span class="id" title="variable">V</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩽</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#v:73"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">…</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩾</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">unsd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfi</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">t0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_find_iff" class="idref" href="#REnvironment.unused_find_iff"><span class="id" title="lemma">unused_find_iff</span></a> (<a id="r:74" class="idref" href="#r:74"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:75" class="idref" href="#V:75"><span class="id" title="binder">V</span></a> <a id="V':76" class="idref" href="#V':76"><span class="id" title="binder">V'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:74"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:75"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:74"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V':76"><span class="id" title="variable">V'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:74"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:75"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:74"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V':76"><span class="id" title="variable">V'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hfi</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>); <br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfi</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_find" class="idref" href="#REnvironment.unused_find"><span class="id" title="lemma">unused_find</span></a> (<a id="r:77" class="idref" href="#r:77"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:78" class="idref" href="#v:78"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="definition">Λ</span></a>) (<a id="V:79" class="idref" href="#V:79"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:77"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:79"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩽</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#v:78"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">…</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩾</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:77"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:79"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hfi</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfi</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_shift_Wf" class="idref" href="#REnvironment.unused_shift_Wf"><span class="id" title="lemma">unused_shift_Wf</span></a> (<a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a> <a id="n:81" class="idref" href="#n:81"><span class="id" title="binder">n</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#lvl"><span class="id" title="definition">lvl</span></a>) (<a id="r:82" class="idref" href="#r:82"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:83" class="idref" href="#V:83"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:83"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:82"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#n:81"><span class="id" title="variable">n</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:83"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:82"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:83"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HvV</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hunsd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused_find_e"><span class="id" title="lemma">unused_find_e</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_find_e_1"><span class="id" title="lemma">shift_find_e_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HI</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">r'</span> <span class="id" title="var">Heqr</span>] [<span class="id" title="var">v'</span> <span class="id" title="var">Heqv</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩽</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">]</span></a> <span class="id" title="var">t0</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">…</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩾</span></a>) <span class="id" title="keyword">with</span> ((<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">]</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩽</span></a> <span class="id" title="var">t0</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">…</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩾</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_find_iff"><span class="id" title="lemma">shift_find_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_find"><span class="id" title="lemma">Wf_find</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HI</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HI</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvr'</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.shift_wf_refl"><span class="id" title="lemma">Resource.shift_wf_refl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused_find"><span class="id" title="lemma">unused_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused_find_e"><span class="id" title="lemma">unused_find_e</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_find"><span class="id" title="lemma">Wf_find</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HI</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HI</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvr'</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.shift_wf_refl"><span class="id" title="lemma">Resource.shift_wf_refl</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused_find"><span class="id" title="lemma">unused_find</span></a> <span class="id" title="var">_</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#c0ee4f0613b8d4edc8b9716a750bcf8f"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">]</span></a> <span class="id" title="var">v</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#c0ee4f0613b8d4edc8b9716a750bcf8f"><span class="id" title="notation">]&gt;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩽</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">]</span></a> <span class="id" title="var">v</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">…</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩾</span></a>) <span class="id" title="keyword">with</span> ((<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">]</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩽</span></a> <span class="id" title="var">v</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">…</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#53f34844d48a0080ad86f14f0d86605d"><span class="id" title="notation">⩾</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_find_iff"><span class="id" title="lemma">shift_find_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.unused_in" class="idref" href="#REnvironment.unused_in"><span class="id" title="lemma">unused_in</span></a> (<a id="r:84" class="idref" href="#r:84"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:85" class="idref" href="#V:85"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:84"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:85"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:84"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:85"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.unused"><span class="id" title="definition">unused</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfi</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">r0</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_2"><span class="id" title="lemma">find_2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab21"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Syntax.Cell.html#Cell.used"><span class="id" title="definition">used</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="REnvironment.used_iff" class="idref" href="#REnvironment.used_iff"><span class="id" title="instance">used_iff</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r'</span> <span class="id" title="var">r</span> <span class="id" title="var">Heqr</span> <span class="id" title="var">V</span> <span class="id" title="var">V'</span> <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>,<a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_used"><span class="id" title="definition">Cell.opt_used</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqV</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_Empty" class="idref" href="#REnvironment.used_Empty"><span class="id" title="lemma">used_Empty</span></a> (<a id="r:86" class="idref" href="#r:86"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:87" class="idref" href="#V:87"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:87"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:86"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:87"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_used"><span class="id" title="definition">Cell.opt_used</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hemp</span> <span class="id" title="var">Husd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HnIn</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">v</span> <span class="id" title="var">HM</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hemp</span> <span class="id" title="var">r</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HnIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HnIn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_add" class="idref" href="#REnvironment.used_add"><span class="id" title="lemma">used_add</span></a> (<a id="r:88" class="idref" href="#r:88"><span class="id" title="binder">r</span></a> <a id="r':89" class="idref" href="#r':89"><span class="id" title="binder">r'</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:90" class="idref" href="#v:90"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:91" class="idref" href="#V:91"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:88"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':89"><span class="id" title="variable">r'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:90"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:91"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Syntax.Cell.html#Cell.used"><span class="id" title="definition">Cell.used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:90"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:88"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:91"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_used"><span class="id" title="definition">Cell.opt_used</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Husd</span>; <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">r</span> <span class="id" title="var">r'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_add_1" class="idref" href="#REnvironment.used_add_1"><span class="id" title="lemma">used_add_1</span></a> (<a id="r:92" class="idref" href="#r:92"><span class="id" title="binder">r</span></a> <a id="r':93" class="idref" href="#r':93"><span class="id" title="binder">r'</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:94" class="idref" href="#v:94"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:95" class="idref" href="#V:95"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Syntax.Cell.html#Cell.used"><span class="id" title="definition">Cell.used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:94"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:92"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:95"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:92"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':93"><span class="id" title="variable">r'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:94"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:95"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_used"><span class="id" title="definition">Cell.opt_used</span></a>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">HCusd</span> <span class="id" title="var">Husd</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">r</span> <span class="id" title="var">r'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_add_eq" class="idref" href="#REnvironment.used_add_eq"><span class="id" title="lemma">used_add_eq</span></a> (<a id="r:96" class="idref" href="#r:96"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:97" class="idref" href="#v:97"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:98" class="idref" href="#V:98"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Syntax.Cell.html#Cell.used"><span class="id" title="definition">Cell.used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:97"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:96"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:96"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:97"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:98"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_used"><span class="id" title="definition">Cell.opt_used</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Husd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_add_neq" class="idref" href="#REnvironment.used_add_neq"><span class="id" title="lemma">used_add_neq</span></a> (<a id="r:99" class="idref" href="#r:99"><span class="id" title="binder">r</span></a> <a id="r':100" class="idref" href="#r':100"><span class="id" title="binder">r'</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:101" class="idref" href="#v:101"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:102" class="idref" href="#V:102"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#r:99"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':100"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:99"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:102"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:99"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r':100"><span class="id" title="variable">r'</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:101"><span class="id" title="variable">v</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:102"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>, <a class="idref" href="Mecha.Syntax.Cell.html#Cell.opt_used"><span class="id" title="definition">Cell.opt_used</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Husd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Husd</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_find_e" class="idref" href="#REnvironment.used_find_e"><span class="id" title="lemma">used_find_e</span></a> (<a id="r:103" class="idref" href="#r:103"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:104" class="idref" href="#V:104"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:103"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:104"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="v:105" class="idref" href="#v:105"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="definition">Λ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:103"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:104"><span class="id" title="variable">V</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩽…</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:105"><span class="id" title="variable">v</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩾</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">unsd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfi</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">t0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_find_iff" class="idref" href="#REnvironment.used_find_iff"><span class="id" title="lemma">used_find_iff</span></a> (<a id="r:106" class="idref" href="#r:106"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:107" class="idref" href="#V:107"><span class="id" title="binder">V</span></a> <a id="V':108" class="idref" href="#V':108"><span class="id" title="binder">V'</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:106"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:107"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:106"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V':108"><span class="id" title="variable">V'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:106"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:107"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:106"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V':108"><span class="id" title="variable">V'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hfi</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>); <br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfi</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_find" class="idref" href="#REnvironment.used_find"><span class="id" title="lemma">used_find</span></a> (<a id="r:109" class="idref" href="#r:109"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="v:110" class="idref" href="#v:110"><span class="id" title="binder">v</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="definition">Λ</span></a>) (<a id="V:111" class="idref" href="#V:111"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:109"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:111"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩽…</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:110"><span class="id" title="variable">v</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩾</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:109"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:111"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hfi</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfi</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_shift_Wf" class="idref" href="#REnvironment.used_shift_Wf"><span class="id" title="lemma">used_shift_Wf</span></a> (<a id="m:112" class="idref" href="#m:112"><span class="id" title="binder">m</span></a> <a id="n:113" class="idref" href="#n:113"><span class="id" title="binder">n</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#lvl"><span class="id" title="definition">lvl</span></a>) (<a id="r:114" class="idref" href="#r:114"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:115" class="idref" href="#V:115"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:112"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:115"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:114"><span class="id" title="variable">r</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#m:112"><span class="id" title="variable">m</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#n:113"><span class="id" title="variable">n</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:115"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:114"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:115"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HvV</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hunsd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used_find_e"><span class="id" title="lemma">used_find_e</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_find_e_1"><span class="id" title="lemma">shift_find_e_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HI</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">r'</span> <span class="id" title="var">Heqr</span>] [<span class="id" title="var">v'</span> <span class="id" title="var">Heqv</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩽…</span></a>  <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">]</span></a> <span class="id" title="var">t0</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩾</span></a>) <span class="id" title="keyword">with</span> ((<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">]</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩽…</span></a>  <span class="id" title="var">t0</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩾</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_find_iff"><span class="id" title="lemma">shift_find_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_find"><span class="id" title="lemma">Wf_find</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HI</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HI</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvr'</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.shift_wf_refl"><span class="id" title="lemma">Resource.shift_wf_refl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used_find"><span class="id" title="lemma">used_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used_find_e"><span class="id" title="lemma">used_find_e</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_find"><span class="id" title="lemma">Wf_find</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HI</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HI</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvr'</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.shift_wf_refl"><span class="id" title="lemma">Resource.shift_wf_refl</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used_find"><span class="id" title="lemma">used_find</span></a> <span class="id" title="var">_</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#c0ee4f0613b8d4edc8b9716a750bcf8f"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">]</span></a> <span class="id" title="var">v</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#c0ee4f0613b8d4edc8b9716a750bcf8f"><span class="id" title="notation">]&gt;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩽…</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#dca1b9b995ad2f65a332d9556d30de4e"><span class="id" title="notation">]</span></a> <span class="id" title="var">v</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩾</span></a>) <span class="id" title="keyword">with</span> ((<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">[⧐</span></a><span class="id" title="var">m</span> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">–</span></a> <span class="id" title="var">n</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#d99338e1d0ead6cc9c1a722e7704660c"><span class="id" title="notation">]</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩽…</span></a>  <span class="id" title="var">v</span><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#3a26204d098591d10efaca876d00d22d"><span class="id" title="notation">⩾</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_find_iff"><span class="id" title="lemma">shift_find_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.used_in" class="idref" href="#REnvironment.used_in"><span class="id" title="lemma">used_in</span></a> (<a id="r:116" class="idref" href="#r:116"><span class="id" title="binder">r</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#resource"><span class="id" title="definition">resource</span></a>) (<a id="V:117" class="idref" href="#V:117"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:116"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:117"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#r:116"><span class="id" title="variable">r</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:117"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.used"><span class="id" title="definition">used</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">r</span> <span class="id" title="var">V</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfi</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">r0</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_2"><span class="id" title="lemma">find_2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab22"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Environment.Stock.html#Stock.new_key"><span class="id" title="definition">new_key</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.new_key_wh" class="idref" href="#REnvironment.new_key_wh"><span class="id" title="lemma">new_key_wh</span></a> (<a id="v:118" class="idref" href="#v:118"><span class="id" title="binder">v</span></a> <a id="v':119" class="idref" href="#v':119"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:120" class="idref" href="#V:120"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:120"><span class="id" title="variable">V</span></a>)) <a class="idref" href="Mecha.Environment.REnvironment.html#v:118"><span class="id" title="variable">v</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:120"><span class="id" title="variable">V</span></a>) (<a class="idref" href="Mecha.Syntax.Cell.html#Cell.shift"><span class="id" title="definition">Cell.shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:120"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#v':119"><span class="id" title="variable">v'</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:120"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#V:120"><span class="id" title="variable">V</span></a>))) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:120"><span class="id" title="variable">V</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_l"><span class="id" title="lemma">new_key_add_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_new_refl"><span class="id" title="lemma">shift_new_refl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.new_key_le_remove" class="idref" href="#REnvironment.new_key_le_remove"><span class="id" title="lemma">new_key_le_remove</span></a> (<a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#lvl"><span class="id" title="definition">lvl</span></a>) (<a id="t:122" class="idref" href="#t:122"><span class="id" title="binder">t</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:122"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:122"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.map_induction"><span class="id" title="lemma">map_induction</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_3"><span class="id" title="lemma">remove_3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_add_1"><span class="id" title="lemma">remove_add_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt1</span> <span class="id" title="var">y</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_add_2"><span class="id" title="lemma">remove_add_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt1</span> <span class="id" title="var">y</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.new_key_in_remove" class="idref" href="#REnvironment.new_key_in_remove"><span class="id" title="lemma">new_key_in_remove</span></a> (<a id="x:123" class="idref" href="#x:123"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#lvl"><span class="id" title="definition">lvl</span></a>) (<a id="t:124" class="idref" href="#t:124"><span class="id" title="binder">t</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:123"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:124"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:124"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:123"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:124"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:123"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:124"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_in"><span class="id" title="lemma">new_key_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HIn'</span>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HnIn</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_add_1"><span class="id" title="lemma">remove_add_1</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.new_key_in_remove_1" class="idref" href="#REnvironment.new_key_in_remove_1"><span class="id" title="lemma">new_key_in_remove_1</span></a> (<a id="x:125" class="idref" href="#x:125"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#lvl"><span class="id" title="definition">lvl</span></a>) (<a id="t:126" class="idref" href="#t:126"><span class="id" title="binder">t</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:126"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:126"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:125"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:126"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HIn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_in"><span class="id" title="lemma">new_key_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HIn'</span>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HnIn</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_add_1"><span class="id" title="lemma">remove_add_1</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.new_key_in_eqDom" class="idref" href="#REnvironment.new_key_in_eqDom"><span class="id" title="lemma">new_key_in_eqDom</span></a> (<a id="t1:127" class="idref" href="#t1:127"><span class="id" title="binder">t1</span></a> <a id="t2:128" class="idref" href="#t2:128"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:129" class="idref" href="#x:129"><span class="id" title="binder">x</span></a>, <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:129"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t1:127"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:129"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t2:128"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t1:127"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t2:128"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.map_induction"><span class="id" title="lemma">map_induction</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t2</span> <span class="id" title="var">HeqDom</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> <span class="id" title="var">t2</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqDom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v'</span> <span class="id" title="var">HM'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HIn</span>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t1_2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HeqDom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HIn'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHt1_1</span> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t2</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intro</span> <span class="id" title="var">HIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqDom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hneq</span> <span class="id" title="var">HIn'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqDom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn'</span> <span class="id" title="keyword">as</span> [|]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab23"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.Wf"><span class="id" title="definition">Wf</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.Wf_remove" class="idref" href="#REnvironment.Wf_remove"><span class="id" title="lemma">Wf_remove</span></a> (<a id="k:130" class="idref" href="#k:130"><span class="id" title="binder">k</span></a> <a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a>: <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#lvl"><span class="id" title="definition">lvl</span></a>) (<a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#k:130"><span class="id" title="variable">k</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:132"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#k:130"><span class="id" title="variable">k</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#t:132"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.map_induction"><span class="id" title="lemma">map_induction</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">y</span> <span class="id" title="var">Hvt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_Empty"><span class="id" title="lemma">Wf_Empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_3"><span class="id" title="lemma">remove_3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">HM</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_add_notin"><span class="id" title="lemma">Wf_add_notin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvx</span> [<span class="id" title="var">Hve</span> <span class="id" title="var">Hvt</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq_dec"><span class="id" title="axiom">Resource.eq_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_add_1"><span class="id" title="lemma">remove_add_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_add_2"><span class="id" title="lemma">remove_add_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_add_notin"><span class="id" title="lemma">Wf_add_notin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab24"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.Wf"><span class="id" title="definition">Wf</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.Wf_wh" class="idref" href="#REnvironment.Wf_wh"><span class="id" title="lemma">Wf_wh</span></a> (<a id="v:133" class="idref" href="#v:133"><span class="id" title="binder">v</span></a> <a id="v':134" class="idref" href="#v':134"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:135" class="idref" href="#V:135"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:133"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">cl</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v':134"><span class="id" title="variable">v'</span></a>)%<span class="id" title="var">cl</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a>))) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a>)) <a class="idref" href="Mecha.Environment.REnvironment.html#v:133"><span class="id" title="variable">v</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a>) (<a class="idref" href="Mecha.Syntax.Cell.html#Cell.shift"><span class="id" title="definition">Cell.shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#v':134"><span class="id" title="variable">v'</span></a>) (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#V:135"><span class="id" title="variable">V</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HvV</span> <span class="id" title="var">Hvv</span> <span class="id" title="var">Hvv'</span>; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_add_notin"><span class="id" title="lemma">Wf_add_notin</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.Wf"><span class="id" title="definition">Resource.Wf</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Cell.html#Cell.Wf_weakening"><span class="id" title="lemma">Cell.Wf_weakening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">V</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">V</span>))) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">V</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Cell.html#Cell.shift_preserves_wf"><span class="id" title="lemma">Cell.shift_preserves_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">V</span>))) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <span class="id" title="var">V</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_preserves_wf"><span class="id" title="lemma">shift_preserves_wf</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_new_refl"><span class="id" title="lemma">shift_new_refl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_notin"><span class="id" title="lemma">new_key_notin</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_add_l"><span class="id" title="lemma">new_key_add_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift_new_refl"><span class="id" title="lemma">shift_new_refl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="REnvironment.Wf_wh_full" class="idref" href="#REnvironment.Wf_wh_full"><span class="id" title="lemma">Wf_wh_full</span></a> (<a id="v:136" class="idref" href="#v:136"><span class="id" title="binder">v</span></a> <a id="v':137" class="idref" href="#v':137"><span class="id" title="binder">v'</span></a> : <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#8101ded08bc483e140c5a5774cb8d77a"><span class="id" title="definition">𝑣</span></a>) (<a id="V:138" class="idref" href="#V:138"><span class="id" title="binder">V</span></a>: <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v:136"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">cl</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">(</span></a><a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a><a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">)</span></a> <a class="idref" href="Mecha.Syntax.SyntaxNotation.html#088db2491b5212bfe68470dd558cebba"><span class="id" title="notation">⊩</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#v':137"><span class="id" title="variable">v'</span></a>)%<span class="id" title="var">cl</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>)) <a class="idref" href="Mecha.Environment.REnvironment.html#v:136"><span class="id" title="variable">v</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>) (<a class="idref" href="Mecha.Syntax.Cell.html#Cell.shift"><span class="id" title="definition">Cell.shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#v':137"><span class="id" title="variable">v'</span></a>) (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>))))) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>)) <a class="idref" href="Mecha.Environment.REnvironment.html#v:136"><span class="id" title="variable">v</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>) (<a class="idref" href="Mecha.Syntax.Cell.html#Cell.shift"><span class="id" title="definition">Cell.shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#v':137"><span class="id" title="variable">v'</span></a>) (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>) 2 <a class="idref" href="Mecha.Environment.REnvironment.html#V:138"><span class="id" title="variable">V</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HvV</span> <span class="id" title="var">Hvv</span> <span class="id" title="var">Hvv'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.new_key_wh"><span class="id" title="lemma">new_key_wh</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Wf_wh"><span class="id" title="lemma">Wf_wh</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab25"></a><h3 class="section">Morphisms</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="REnvironment.renvironment_in_iff" class="idref" href="#REnvironment.renvironment_in_iff"><span class="id" title="instance">renvironment_in_iff</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.In"><span class="id" title="definition">In</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">k</span> <span class="id" title="var">Heqk</span> <span class="id" title="var">V</span> <span class="id" title="var">V'</span> <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqV</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="REnvironment.renvironment_Add_iff" class="idref" href="#REnvironment.renvironment_Add_iff"><span class="id" title="instance">renvironment_Add_iff</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Mecha.Syntax.Resource.html#Resource.eq"><span class="id" title="definition">Resource.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Syntax.Cell.html#Cell.eq"><span class="id" title="definition">Cell.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="Mecha.Syntax.Cell.html#Cell.t"><span class="id" title="definition">Cell.t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">k</span> <span class="id" title="var">Heqk</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> <span class="id" title="var">Heqd</span> <span class="id" title="var">V</span> <span class="id" title="var">V'</span> <span class="id" title="var">HeqV</span> <span class="id" title="var">V1</span> <span class="id" title="var">V1'</span> <span class="id" title="var">HeqV1</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.Add"><span class="id" title="definition">Add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqk</span>, <span class="id" title="var">Heqd</span>, <span class="id" title="var">HeqV</span>, <span class="id" title="var">HeqV1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="REnvironment.renvironment_for_all_iff" class="idref" href="#REnvironment.renvironment_for_all_iff"><span class="id" title="instance">renvironment_for_all_iff</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment.For_all"><span class="id" title="axiom">For_all</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P'</span> <span class="id" title="var">P</span> <span class="id" title="var">HeqP</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">Heqt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HFa</span> <span class="id" title="var">r</span> <span class="id" title="var">v</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HFa</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HFa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Mecha.Environment.REnvironment.html#REnvironment"><span class="id" title="module">REnvironment</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
