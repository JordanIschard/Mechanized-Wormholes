<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="https://github.com/JordanIschard/Mechanized-Wormholes"> Project </a>
      <a href="https://jordanischard.github.io/">Author</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Classes.Morphisms</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">DeBrLevel</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">LevelInterface</span> <span class="id" title="library">Level</span> <span class="id" title="library">Levels</span> <span class="id" title="library">SetLevelInterface</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab137"></a><h1 class="section">Syntax - Resource</h1>


<div class="paragraph"> </div>

  Resources are names that are either bound to I/O or introduced by the binder, named wormhole. In the original paper, a resource is an element taken from a certain infinite countable set. We choose De-Bruijn level as representation to avoid captures issues. Consequently, in this formalization, a resource name is a level. It is a direct use of the <span class="inlinecode"><span class="id" title="library">Level</span></span> module of <span class="inlinecode"><span class="id" title="var">DeBrLevel</span></span> library.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Resource" class="idref" href="#Resource"><span class="id" title="module">Resource</span></a> &lt;: <span class="id" title="module">IsBdlLvlFullOTWL</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab138"></a><h2 class="section">Definitions</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Include</span> <span class="id" title="module">Level</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab139"></a><h3 class="section">Multi shift</h3>


<div class="paragraph"> </div>

  During the functional transition, defined in <span class="inlinecode"><span class="id" title="var">Functional_Transition.v</span></span>, the signal function is updated multiple times for different well-formed levels through shift applications. Consequently, we define a <span class="inlinecode"><a class="idref" href="Mecha.Syntax.Typ.html#Typ.multi_shift"><span class="id" title="definition">multi_shift</span></a></span> function that applies <span class="inlinecode"><span class="id" title="var">n</span></span> shifts for two lists <span class="inlinecode"><span class="id" title="var">lbs</span></span> and <span class="inlinecode"><span class="id" title="var">ks</span></span> of length <span class="inlinecode"><span class="id" title="var">n</span></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="Resource.multi_shift" class="idref" href="#Resource.multi_shift"><span class="id" title="definition">multi_shift</span></a> (<a id="lbs:1" class="idref" href="#lbs:1"><span class="id" title="binder">lbs</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">Lvl.t</span>) (<a id="ks:2" class="idref" href="#ks:2"><span class="id" title="binder">ks</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">Lvl.t</span>) (<a id="t:3" class="idref" href="#t:3"><span class="id" title="binder">t</span></a>: <a class="idref" href="Mecha.Syntax.Resource.html#Resource.t"><span class="id" title="definition">t</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="lbk:4" class="idref" href="#lbk:4"><span class="id" title="binder">lbk</span></a> <a id="acc:5" class="idref" href="#acc:5"><span class="id" title="binder">acc</span></a> ⇒ <a class="idref" href="Mecha.Syntax.Resource.html#Resource.shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbk:4"><span class="id" title="variable">lbk</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbk:4"><span class="id" title="variable">lbk</span></a>) <a class="idref" href="Mecha.Syntax.Resource.html#acc:5"><span class="id" title="variable">acc</span></a>) <a class="idref" href="Mecha.Syntax.Resource.html#t:3"><span class="id" title="variable">t</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">List.combine</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbs:1"><span class="id" title="variable">lbs</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#ks:2"><span class="id" title="variable">ks</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab140"></a><h2 class="section">Properties</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Resource.multi_shift_wf_refl" class="idref" href="#Resource.multi_shift_wf_refl"><span class="id" title="lemma">multi_shift_wf_refl</span></a> (<a id="lbs:6" class="idref" href="#lbs:6"><span class="id" title="binder">lbs</span></a> <a id="ks:7" class="idref" href="#ks:7"><span class="id" title="binder">ks</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">Lvl.t</span>) (<a id="lb:8" class="idref" href="#lb:8"><span class="id" title="binder">lb</span></a>: <span class="id" title="definition">Lvl.t</span>) (<a id="t:9" class="idref" href="#t:9"><span class="id" title="binder">t</span></a>: <a class="idref" href="Mecha.Syntax.Resource.html#Resource.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Syntax.Resource.html#Resource.Wf"><span class="id" title="definition">Wf</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lb:8"><span class="id" title="variable">lb</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#t:9"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:10" class="idref" href="#i:10"><span class="id" title="binder">i</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbs:6"><span class="id" title="variable">lbs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lb:8"><span class="id" title="variable">lb</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#i:10"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.multi_shift"><span class="id" title="definition">multi_shift</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbs:6"><span class="id" title="variable">lbs</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#ks:7"><span class="id" title="variable">ks</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#t:9"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#t:9"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ks</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.multi_shift"><span class="id" title="definition">multi_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">lbs</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ks</span> <span class="id" title="var">Hvt</span> <span class="id" title="var">Hvl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ks</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">k</span> <span class="id" title="var">ks</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHlbs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.shift_wf_refl"><span class="id" title="lemma">shift_wf_refl</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.Wf"><span class="id" title="definition">Wf</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvl</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvl</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource"><span class="id" title="module">Resource</span></a>.<br/>

<br/>
</div>

<div class="doc">
<hr/>
 
<div class="paragraph"> </div>

<a id="lab141"></a><h1 class="section">Syntax - Resources</h1>


<div class="paragraph"> </div>

  Wormholes types contains a signal function arrow that carries a resource set. We define a set of resource directly via the <span class="inlinecode"><span class="id" title="library">Levels</span></span> contained in <span class="inlinecode"><span class="id" title="var">DeBrLevel</span></span> library. The set module is based on <span class="inlinecode"><span class="id" title="var">MSet</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Resources" class="idref" href="#Resources"><span class="id" title="module">Resources</span></a> &lt;: <span class="id" title="module">IsBdlLvlFullOTWL</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab142"></a><h2 class="section">Definition</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Include</span> <span class="id" title="module">MakeLVL</span>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.St"><span class="id" title="module">St</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab143"></a><h3 class="section">Multi shift</h3>


<div class="paragraph"> </div>

  As said in <span class="inlinecode"><span class="id" title="var">Resource.v</span></span>, the proof of progress of the functional transition requires multiple
  shift with different well-formedness level and shifts. Thus, we also define <span class="inlinecode"><a class="idref" href="Mecha.Syntax.Typ.html#Typ.multi_shift"><span class="id" title="definition">multi_shift</span></a></span> here. 

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="Resources.multi_shift" class="idref" href="#Resources.multi_shift"><span class="id" title="definition">multi_shift</span></a> (<a id="lbs:11" class="idref" href="#lbs:11"><span class="id" title="binder">lbs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">Lvl.t</span>) (<a id="ks:12" class="idref" href="#ks:12"><span class="id" title="binder">ks</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">Lvl.t</span>) (<a id="t:13" class="idref" href="#t:13"><span class="id" title="binder">t</span></a> : <a class="idref" href="Mecha.Syntax.Resource.html#Resources.t"><span class="id" title="definition">t</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="lbk:14" class="idref" href="#lbk:14"><span class="id" title="binder">lbk</span></a> <a id="acc:15" class="idref" href="#acc:15"><span class="id" title="binder">acc</span></a> ⇒ <a class="idref" href="Mecha.Syntax.Resource.html#Resources.shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbk:14"><span class="id" title="variable">lbk</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbk:14"><span class="id" title="variable">lbk</span></a>) <a class="idref" href="Mecha.Syntax.Resource.html#acc:15"><span class="id" title="variable">acc</span></a>) <a class="idref" href="Mecha.Syntax.Resource.html#t:13"><span class="id" title="variable">t</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">List.combine</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lbs:11"><span class="id" title="variable">lbs</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#ks:12"><span class="id" title="variable">ks</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab144"></a><h2 class="section">Properties</h2>

<div class="paragraph"> </div>

<a id="lab145"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Syntax.Typ.html#Typ.multi_shift"><span class="id" title="definition">multi_shift</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Resources.multi_shift_eq" class="idref" href="#Resources.multi_shift_eq"><span class="id" title="instance">multi_shift_eq</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="Mecha.Syntax.Resource.html#Resources.multi_shift"><span class="id" title="definition">multi_shift</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lbs'</span> <span class="id" title="var">lbs</span> <span class="id" title="var">Heqlbs</span> <span class="id" title="var">ks'</span> <span class="id" title="var">ks</span> <span class="id" title="var">Heqks</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span> <span class="id" title="var">Heqr</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.eq"><span class="id" title="definition">eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqr</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.eq_leibniz"><span class="id" title="lemma">eq_leibniz</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab146"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Syntax.Typ.html#PairTyp.Wf"><span class="id" title="definition">Wf</span></a></span> specific Wormholes properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Resources.Wf_wh" class="idref" href="#Resources.Wf_wh"><span class="id" title="lemma">Wf_wh</span></a> (<a id="lb:16" class="idref" href="#lb:16"><span class="id" title="binder">lb</span></a> : <span class="id" title="definition">Lvl.t</span>) (<a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a> : <a class="idref" href="Mecha.Syntax.Resource.html#Resources.t"><span class="id" title="definition">t</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Syntax.Resource.html#Resources.Wf"><span class="id" title="definition">Wf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lb:16"><span class="id" title="variable">lb</span></a>)) <a class="idref" href="Mecha.Syntax.Resource.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.Wf"><span class="id" title="definition">Wf</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lb:16"><span class="id" title="variable">lb</span></a> (<a class="idref" href="Mecha.Syntax.Resource.html#Resources.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#s:17"><span class="id" title="variable">s</span></a> (<a class="idref" href="Mecha.Syntax.Resource.html#Resources.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lb:16"><span class="id" title="variable">lb</span></a> (<a class="idref" href="Mecha.Syntax.Resource.html#Resources.add"><span class="id" title="definition">add</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#lb:16"><span class="id" title="variable">lb</span></a>) <a class="idref" href="Mecha.Syntax.Resource.html#Resources.empty"><span class="id" title="definition">empty</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.Wf_unfold"><span class="id" title="lemma">Wf_unfold</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.For_all"><span class="id" title="definition">For_all</span></a> <span class="id" title="tactic">in</span> *; <br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.diff_spec"><span class="id" title="lemma">diff_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.add_notin_spec"><span class="id" title="lemma">add_notin_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.add_notin_spec"><span class="id" title="lemma">add_notin_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Level.Wf</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab147"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Mecha.Environment.Stock.html#Stock.new_key"><span class="id" title="definition">new_key</span></a></span> properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Resources.new_key_union" class="idref" href="#Resources.new_key_union"><span class="id" title="lemma">new_key_union</span></a> (<a id="s:18" class="idref" href="#s:18"><span class="id" title="binder">s</span></a> <a id="s':19" class="idref" href="#s':19"><span class="id" title="binder">s'</span></a>: <a class="idref" href="Mecha.Syntax.Resource.html#Resources.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key"><span class="id" title="definition">new_key</span></a> (<a class="idref" href="Mecha.Syntax.Resource.html#Resources.union"><span class="id" title="definition">union</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#s:18"><span class="id" title="variable">s</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#s':19"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#s:18"><span class="id" title="variable">s</span></a>) (<a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#s':19"><span class="id" title="variable">s'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.set_induction"><span class="id" title="lemma">set_induction</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.empty_union_1"><span class="id" title="lemma">empty_union_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.Add_inv"><span class="id" title="lemma">Add_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.union_add"><span class="id" title="lemma">union_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs1</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Resources.new_key_Wf" class="idref" href="#Resources.new_key_Wf"><span class="id" title="lemma">new_key_Wf</span></a> (<a id="k:20" class="idref" href="#k:20"><span class="id" title="binder">k</span></a>: <span class="id" title="definition">Lvl.t</span>) (<a id="s:21" class="idref" href="#s:21"><span class="id" title="binder">s</span></a>: <a class="idref" href="Mecha.Syntax.Resource.html#Resources.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Mecha.Syntax.Resource.html#Resources.Wf"><span class="id" title="definition">Wf</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#k:20"><span class="id" title="variable">k</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key"><span class="id" title="definition">new_key</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Mecha.Syntax.Resource.html#k:20"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">using</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.set_induction"><span class="id" title="lemma">set_induction</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key_Empty"><span class="id" title="lemma">new_key_Empty</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.Add_inv"><span class="id" title="lemma">Add_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.Wf_add_iff"><span class="id" title="lemma">Wf_add_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwfx</span> <span class="id" title="var">Hwf</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resource.Wf"><span class="id" title="definition">Resource.Wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwfx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources.new_key_add_max"><span class="id" title="lemma">new_key_add_max</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Mecha.Syntax.Resource.html#Resources"><span class="id" title="module">Resources</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
